# Run Nmap to discover ports/services:
![9e27f8d944b86af8e093069c92f69d70.png](../../../../_resources/9e27f8d944b86af8e093069c92f69d70.png)

- Tried enumerating webserver by visiting the site since port 80 is open:
![630c716ca8fd821350fb2ad16f902a30.png](../../../../_resources/630c716ca8fd821350fb2ad16f902a30.png)
- Then tried to convert binary to ascii:
![61864114e63183494869e0a09bfb602d.png](../../../../_resources/61864114e63183494869e0a09bfb602d.png)
Super helpful
- Viewed source code:
![03f372193c62dd7e7e8e784831eacc93.png](../../../../_resources/03f372193c62dd7e7e8e784831eacc93.png)

- Decided to run a more detailed nmap scan:
`nmap -A 192.168.144.42`
![b11f2c3a8a6040d3a40b88763eb422b1.png](../../../../_resources/b11f2c3a8a6040d3a40b88763eb422b1.png)

- Saw that SMB was open and tried to enumerate that with no luck really
Figured it was time to check out SMTP on port 25 since it's open and nmap was able to enumerate this a bit:
![6f3cb97af2eaede11f2404985fc4ff11.png](../../../../_resources/6f3cb97af2eaede11f2404985fc4ff11.png)

- Decided to search for exploits related to sendmail as that is the service running on port 25:
`searchsploit sendmail`
![ca73ff6fbfd44253d69098a84fcaea97.png](../../../../_resources/ca73ff6fbfd44253d69098a84fcaea97.png)
Noticed that a metasploit module exists as well as the next to last entry appears to be a standalone exploit:
![9bf3b4fa72d481515353b06d76027da0.png](../../../../_resources/9bf3b4fa72d481515353b06d76027da0.png)

- Downloaded the exploit (non-metasploit version):
`searchsploit -m multiple/remote/4761.pl`

- Opened up the exploit to see what it does:
![e2d35cca4bc676d44eed8c995a5c8336.png](../../../../_resources/e2d35cca4bc676d44eed8c995a5c8336.png)
Looks like the exploit communicates with the mail server and opens up port 31337 and executes a root shell on this port

- Tried running the exploit
`perl 4761.pl 192.168.219.42` 
![18a9acd13bf2524732522f6a29d84091.png](../../../../_resources/18a9acd13bf2524732522f6a29d84091.png)
Not noticing any errors

- Check with nmap to see if the port is open now:
![830a8dbc37a87f5a63e8190944c9eaf0.png](../../../../_resources/830a8dbc37a87f5a63e8190944c9eaf0.png)
It is!

- Try to connect to port 31337 using netcat:
![bf407c8dcfc45e99747f5e640f19c448.png](../../../../_resources/bf407c8dcfc45e99747f5e640f19c448.png)

- Use bash -i to upgrade shell minmally:
![2758c80a23e4260182f33563351d2728.png](../../../../_resources/2758c80a23e4260182f33563351d2728.png)

- Found proof.txt:
![cb0975e8676bab3b61bc82f94d5477ff.png](../../../../_resources/cb0975e8676bab3b61bc82f94d5477ff.png)